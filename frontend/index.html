<!doctype html>
<html lang="sv">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ExamAI</title>
    <link rel="icon" type="image/svg+xml" href="../favicon.svg">
    <link rel="alternate icon" href="../favicon.ico">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <link rel="stylesheet" href="./styles.css?v=20250814-1" />
  </head>
  <body>
    <div id="app">
  <!-- Floating controls (no app bar) -->
  <button id="addCopilotBtn" class="copilot-plus" title="L√§gg till Copilot">+</button>
  <button id="pauseFlowBtn" class="btn" title="Pausa/√•teruppta konversationsfl√∂det">Pausa fl√∂de</button>
  <a href="../tests/integration/test-solid.html" id="testSolidBtn" class="btn test-btn" title="K√∂r SOLID compliance tester" style="position: fixed; top: 10px; right: 120px; background: linear-gradient(135deg, #7c5cff 0%, #00d4ff 100%); color: white; text-decoration: none; z-index: 10000;">üß™ SOLID Tests</a>
      <!-- Node Board: area to organize and park nodes -->
      <section id="nodeBoard" class="node-board" aria-label="Node Board">
        <div class="nb-sections">
          <div class="nb-sec" data-nb-id="analys">
            <div class="nb-title" contenteditable="true" spellcheck="false">Analys</div>
            <div class="nb-grid" aria-hidden="true"></div>
          </div>
          <div class="nb-sec" data-nb-id="id√©er">
            <div class="nb-title" contenteditable="true" spellcheck="false">Id√©er</div>
            <div class="nb-grid" aria-hidden="true"></div>
          </div>
          <div class="nb-sec" data-nb-id="produktion">
            <div class="nb-title" contenteditable="true" spellcheck="false">Produktion</div>
            <div class="nb-grid" aria-hidden="true"></div>
          </div>
        </div>
      </section>
      <!-- Main content area -->
      <div class="layout">
        <main class="content">
  <section id="teori" class="panel board-section" data-section-key="teori" aria-label="Teori">
          <div class="head"><h2>Teori</h2></div>
          <div class="body">
            <div id="theoryGrid" class="grid"></div>
            <div class="note" id="theoryEmpty">Skriv n√•got h√§r eller koppla en AI-nod f√∂r att skapa text‚Ä¶</div>
          </div>
        </section>
  <section id="exempel" class="panel board-section" data-section-key="exempel" aria-label="Exempel">
          <div class="head"><h2>Exempel</h2></div>
          <div class="body">
            <div id="examplesGrid" class="grid"></div>
            <div class="note" id="examplesEmpty">Skriv n√•got h√§r eller koppla en AI-nod f√∂r att skapa text‚Ä¶</div>
          </div>
        </section>
  <section id="ovningar" class="panel board-section" data-section-key="ovningar" aria-label="√ñvningsuppgifter">
          <div class="head"><h2>√ñvningsuppgifter</h2></div>
          <div class="body">
            <div id="exerciseGrid" class="grid"></div>
            <div class="note" id="exerciseEmpty">Skriv n√•got h√§r eller koppla en AI-nod f√∂r att skapa text‚Ä¶</div>
          </div>
        </section>
        </main>
      </div>

  <!-- Main copilot drawer removed: use + to add individual copilots -->
  <!-- Left menu panel removed -->

      <!-- Fullscreen modal for exam view -->
      <section id="examModal" class="modal hidden">
        <div class="modal-content">
          <header class="drawer-head"><div class="brand">Tenta</div><button id="examClose" class="icon-btn">‚úï</button></header>
          <div id="examViewer" class="exam"></div>
        </div>
      </section>

      <!-- Modal: Skapa tenta / v√§lj filer -->
      <section id="filePickerModal" class="modal hidden">
        <div class="modal-content">
          <header class="drawer-head"><div class="brand">Skapa tenta</div><button id="filePickerClose" class="icon-btn">‚úï</button></header>
          <div class="exam" style="padding:14px">
            <div class="grid2">
              <div class="card">
                <div class="label">F√∂rel√§sningar (en eller flera)</div>
                <input id="filesLectures" type="file" accept=".pdf,.txt,.md" multiple />
                <div id="dzLectures" class="dropzone" aria-label="Dra & sl√§pp f√∂rel√§sningsfiler h√§r">Dra & sl√§pp h√§r</div>
                <div id="listLectures" class="file-list"></div>
              </div>
              <div class="card">
                <div class="label">Tenta (en eller flera, kombineras)</div>
                <input id="filesExams" type="file" accept=".txt,.md,.text,.pdf" multiple />
                <div id="dzExams" class="dropzone" aria-label="Dra & sl√§pp tentafiler h√§r">Dra & sl√§pp h√§r</div>
                <div id="listExams" class="file-list"></div>
              </div>
            </div>
              <label for="examTitle" class="input-label">Titel (valfri)</label>
              <input id="examTitle" type="text" placeholder="Ange en titel p√• tentan" class="text-input"/>
            <div style="display:flex;justify-content:center;margin-top:14px">
              <button id="confirmBuildExam" class="btn btn-primary">Skapa tenta</button>
            </div>
            <div id="createExamResult" class="subtle" style="margin-top:8px"></div>
          </div>
        </div>
      </section>

      
    </div>

  <script src="https://cdn.jsdelivr.net/npm/markdown-it@13.0.2/dist/markdown-it.min.js"></script>
  
  <!-- Non-module components that define global objects -->
  <script src="./js/core/storage-provider.js"></script>
  <script src="./js/core/node-interfaces.js"></script>
  <script src="./js/core/node-connection-manager.js"></script>
  <script src="./js/core/flow-control-manager.js"></script>
  <script src="./js/core/graph-repository.js"></script>
  <script src="./js/core/dom-manager.js"></script>
  <script src="./js/core/ui-components-manager.js"></script>
  <script src="./js/graph/section-repository.js"></script>
  <script src="./js/graph/section-editor.js"></script>
  <script src="./js/graph/section-io-manager.js"></script>
  <!-- Legacy scripts - will be migrated to modules gradually -->
  <script src="./js/graph/section-manager.js"></script>
  <script src="./js/nodes/copilot-settings-manager.js"></script>
  <script src="./js/nodes/copilot-chat-manager.js"></script>
  <script src="./js/graph/fab-drag-manager.js"></script>
  <script src="./js/graph/fab-position-manager.js"></script>
  <script src="./js/graph/node-board-fab-controller.js"></script>
  <script src="./js/graph/fab-utils.js"></script>
  
  <!-- SOLID Architecture Bootstrap -->
  <script src="./bootstrap.js?v=20250817-12" type="module"></script>
  </body>
</html>
